# Руководство по ручному тестированию приложения "Оптимальный маршрут"

Данное руководство содержит набор тест-кейсов для проверки основного функционала приложения. Все тесты должны выполняться в последовательном порядке.

## Предварительные условия
1. Установлены все зависимости из requirements.txt
2. Настроено подключение к MS SQL Server
3. Приложение запущено командой `python app.py`

## Тест-кейс 1: Проверка начального состояния приложения
**Цель:** Убедиться, что приложение загружается корректно и все элементы интерфейса отображаются.

**Шаги:**
1. Запустите приложение
2. Проверьте наличие следующих элементов:
   - Поле "Начальный адрес"
   - Поле "Конечный адрес"
   - Выпадающий список "Город" с предзагруженными значениями
   - Выпадающий список "Транспорт" с опциями "На машине" и "Пешком"
   - Выпадающий список "Оптимизация" с опциями "По расстоянию" и "По времени"
   - Кнопка "Построить маршрут"
   - Раздел "Промежуточные точки" с кнопкой "+ Добавить точку"

**Ожидаемый результат:** Все элементы интерфейса отображаются корректно, значения по умолчанию установлены.

## Тест-кейс 2: Построение простого маршрута
**Цель:** Проверить основной функционал построения маршрута между двумя точками.

**Шаги:**
1. В поле "Начальный адрес" введите: "Красная площадь"
2. В поле "Конечный адрес" введите: "Парк Горького"
3. В выпадающем списке "Город" выберите: "Москва"
4. В выпадающем списке "Транспорт" выберите: "На машине"
5. В выпадающем списке "Оптимизация" выберите: "По расстоянию"
6. Нажмите кнопку "Построить маршрут"

**Ожидаемый результат:** 
- Приложение должно показывать сообщение о процессе построения маршрута.
- Должен открыться браузер с HTML-картой маршрута.
- На карте должны быть отмечены начальная и конечная точки.
- Отрезки маршрута должны быть отображены линиями разных цветов в зависимости от скорости.
- После построения должно появиться диалоговое окно с информацией о длине маршрута и времени в пути.

## Тест-кейс 3: Построение маршрута с промежуточными точками
**Цель:** Проверить функционал добавления и использования промежуточных точек.

**Шаги:**
1. В поле "Начальный адрес" введите: "Красная площадь"
2. В поле "Конечный адрес" введите: "МГУ"
3. Нажмите кнопку "+ Добавить точку"
4. В появившееся поле "Точка 1" введите: "Парк Горького"
5. Нажмите кнопку "+ Добавить точку" ещё раз
6. В поле "Точка 2" введите: "Новодевичий монастырь"
7. В выпадающем списке "Город" выберите: "Москва"
8. В выпадающем списке "Транспорт" выберите: "На машине"
9. В выпадающем списке "Оптимизация" выберите: "По времени"
10. Нажмите кнопку "Построить маршрут"

**Ожидаемый результат:** 
- Приложение должно корректно построить маршрут через все указанные точки.
- На карте должны быть отмечены все точки маршрута (начальная, промежуточные, конечная).
- Информация о маршруте должна включать суммарное расстояние и время.

## Тест-кейс 4: Удаление промежуточных точек
**Цель:** Проверить функционал удаления промежуточных точек.

**Шаги:**
1. Добавьте несколько промежуточных точек, как в тест-кейсе 3
2. Нажмите кнопку "❌" рядом со второй точкой
3. Убедитесь, что точка удалена и нумерация оставшихся точек изменилась
4. Нажмите кнопку "Построить маршрут"

**Ожидаемый результат:** 
- Промежуточная точка должна быть удалена из интерфейса.
- Нумерация оставшихся точек должна быть обновлена.
- Маршрут должен быть построен без удаленной точки.

## Тест-кейс 5: Пешеходный маршрут
**Цель:** Проверить построение пешеходного маршрута.

**Шаги:**
1. В поле "Начальный адрес" введите: "Красная площадь"
2. В поле "Конечный адрес" введите: "Александровский сад"
3. В выпадающем списке "Город" выберите: "Москва"
4. В выпадающем списке "Транспорт" выберите: "Пешком"
5. В выпадающем списке "Оптимизация" выберите: "По расстоянию"
6. Нажмите кнопку "Построить маршрут"

**Ожидаемый результат:** 
- Приложение должно построить пешеходный маршрут.
- Скорость на участках должна соответствовать пешеходному режиму (4-6 км/ч).
- Маршрут должен следовать по пешеходным дорожкам и тротуарам.

## Тест-кейс 6: Проверка разных городов
**Цель:** Проверить работу приложения с разными городами.

**Шаги:**
1. Выполните построение простого маршрута (тест-кейс 2) для каждого города из списка:
   - Краснодар
   - Санкт-Петербург
   - Сочи
   - Ростов-на-Дону

**Ожидаемый результат:** 
- Для каждого города приложение должно корректно строить маршрут.
- Геокодирование должно правильно определять координаты адресов в соответствующем городе.

## Тест-кейс 7: Обработка ошибок неверного ввода
**Цель:** Проверить обработку приложением некорректных данных.

**Шаги:**
1. В поле "Начальный адрес" введите несуществующий адрес, например: "hjkfdshkjfdhskj"
2. В поле "Конечный адрес" введите корректный адрес
3. Нажмите кнопку "Построить маршрут"

**Ожидаемый результат:** 
- Приложение должно вывести сообщение об ошибке о невозможности определить координаты начальной точки.
- Приложение не должно аварийно завершаться.

## Тест-кейс 8: Проверка сохранения маршрута в базу данных
**Цель:** Проверить функционал сохранения информации о маршруте в базу данных.

**Шаги:**
1. Построить несколько маршрутов с разными параметрами
2. Проверить базу данных, используя запрос: 
   ```sql
   SELECT * FROM Routes ORDER BY timestamp DESC;
   ```

**Ожидаемый результат:** 
- В базе данных должны быть записи о построенных маршрутах.
- Записи должны содержать корректную информацию о начальных и конечных точках, режиме транспорта, оптимизации, длине и времени.

## Тест-кейс 9: Проверка производительности
**Цель:** Оценить производительность приложения при построении сложных маршрутов.

**Шаги:**
1. Построить маршрут на большое расстояние, например:
   - Начальный адрес: "Красная площадь"
   - Конечный адрес: "Аэропорт Домодедово"
   - Город: "Москва"
   - Транспорт: "На машине"
   - Оптимизация: "По времени"
2. Замерить время построения маршрута

**Ожидаемый результат:** 
- Маршрут должен быть построен за разумное время (не более 30-60 секунд).
- Приложение должно оставаться отзывчивым во время построения маршрута.

## Тест-кейс 10: Проверка настроек оптимизации
**Цель:** Проверить разницу между различными режимами оптимизации.

**Шаги:**
1. Построить маршрут между двумя удаленными точками с оптимизацией "По расстоянию"
2. Записать длину и время маршрута
3. Построить маршрут между теми же точками с оптимизацией "По времени"
4. Сравнить результаты

**Ожидаемый результат:** 
- Маршрут, оптимизированный по расстоянию, должен быть короче.
- Маршрут, оптимизированный по времени, должен быть быстрее.
- Маршруты могут отличаться выбранными путями.